골프 통계 서비스 데이터 정의서 (v2.4)1. 개요1.1. 목적본 문서는 골프 시뮬레이터에서 발생하는 원시 데이터를 기반으로 유저에게 유의미한 통계 서비스를 제공하기 위한 데이터 표준을 정의함.본 문서는 수집(Stack) 데이터와 가공(Create) 데이터로 구분하여 개발 요건을 명확히 하는 것을 목적으로 함.1.2. 데이터 흐름데이터 수집 (Stack): 시뮬레이터에서 라운드 중 발생한 샷, 센서, 홀, 라운드 요약, 이벤트 데이터를 서버에 전송 및 저장.데이터 가공 (Create): 저장된 원시 데이터를 분석하여 유저의 누적 통계, 트렌드, 분석 리포트 등 2차 데이터를 생성.2. 수집 데이터 (Stack)라운드 종료 시 시뮬레이터에서 서버로 전송되어야 하는 필수 원시 데이터 목록임.2.1. 라운드 (Round) 단위 데이터18홀 전체 라운드 요약 정보.game_session_id: (String, Nullable) 게임 세션 고유 ID (UUID 또는 이에 준하는 고유값)game_mode: (Code) 게임 모드 (e.g., 'SINGLE', 'LOCAL', 'MULTIPLAY', 'TOURNEY')game_rule: (Code) 게임 진행 규칙 (e.g., 'RULE_STROKE', 'RULE_SCRAMBLE')simulator_id: (String, Nullable) 시뮬레이터(로컬 그룹) ID (멀티플레이/대회 모드에서 사용)round_id: 라운드 고유 IDuser_id: 유저 IDteam_id: (String, Nullable) 팀 ID (포섬, 스크램블 등 팀전에서 사용)played_at: 라운드 시작 일시cc_id: 골프장 ID (마스터 데이터)course_id: 코스 ID (마스터 데이터)tee_box: (Code) 선택 티박스 (e.g., 'TB_WHITE', 'TB_RED', 'TB_BLUE')total_par: 코스 기준 파 (e.g., 72)total_score: 18홀 최종 스코어 (팀전의 경우 팀 스코어)rank: (Integer, Nullable) 게임 내 순위 (자격 없을 시 null)is_ranking_eligible: (Boolean, Nullable) 랭킹 산정 자격 여부 (대회 모드에서 사용)total_putts: 18홀 총 퍼팅 수fairways_hit: 페어웨이 적중 횟수fairways_attempted: 페어웨이 시도 횟수 (Par 3 제외 14)greens_in_regulation: GIR 성공 횟수mulligans_used: 멀리건 사용 횟수birdies_or_better: 버디 이상 횟수pars: 파 횟수bogeys: 보기 횟수double_bogey_or_worse: 더블보기 이상 횟수2.1.1. 게임 모드 및 세션 ID (game_mode, game_session_id) 정의game_mode, game_rule, game_session_id, simulator_id 필드를 조합하여 복잡한 게임 모드를 구분함. 이는 3.1. 유저 누적 통계의 고속 조회를 위한 1라운드:1유저 구조를 유지하며 복합적 게임 모드를 지원하기 위함임.game_mode: 'SINGLE' (싱글 플레이)game_rule: 'RULE_STROKE'game_session_id: null (세션 ID가 없음).simulator_id: null.user_id 1명에 대한 round_id 1개가 생성됨.game_mode: 'LOCAL' (로컬 플레이, 2~6명)1개의 시뮬레이터에서 2~6명이 함께 플레이하는 경우임.game_session_id: "SESSION_ABC" (참가자 6명 모두 이 ID 공유).game_rule: "RULE_SCRAMBLE" (이 세션에 적용되는 game_rule에 따라 팀전 스코어 등이 기록됨).simulator_id: null (이 경우 game_session_id가 로컬 그룹 ID 역할을 함).user_id 6명에 대한 round_id 6개가 생성되며, 모두 game_session_id: "SESSION_ABC"를 공유함.rank는 이 "SESSION_ABC" 세션 내에서 계산됨.플레이 순서(turn)는 이 그룹 내에서만 유효하며, shot_at (샷 시간)으로 정렬하여 파악 가능함.game_mode: 'MULTIPLAY' (네트워크 멀티플레이, 최대 100명)여러 위치의 시뮬레이터(각 1~6명)가 하나의 대회/이벤트에 참가하는 경우임.game_session_id: "EVENT_999" (참가자 100명 모두 이 ID 공유).game_rule: "RULE_STROKE" (모든 참가자는 동일한 game_rule을 따름).simulator_id: "SIM_001", "SIM_002", "SIM_003"... (각 로컬 그룹/시뮬레이터를 식별하는 ID).데이터 저장 (예: 3개 시뮬레이터, 총 7명 참가):{ game_session_id: "EVENT_999", game_mode: 'MULTIPLAY', simulator_id: "SIM_001", round_id: 101, ... } (유저 A){ game_session_id: "EVENT_999", game_mode: 'MULTIPLAY', simulator_id: "SIM_001", round_id: 102, ... } (유저 B){ game_session_id: "EVENT_999", game_mode: 'MULTIPLAY', simulator_id: "SIM_002", round_id: 103, ... } (유저 C){ game_session_id: "EVENT_999", game_mode: 'MULTIPLAY', simulator_id: "SIM_002", round_id: 104, ... } (유저 D){ game_session_id: "EVENT_999", game_mode: 'MULTIPLAY', simulator_id: "SIM_003", round_id: 105, ... } (유저 E)정보 조회:전체 랭킹 (rank): game_session_id: "EVENT_999"로 조회하여 total_score를 비교함.함께 친 그룹 (플레이 순서 공유): simulator_id: "SIM_002"로 조회하면 C, D 유저를 찾을 수 있음.game_mode: 'TOURNEY' (대회 모드)지정된 기간과 규칙(참가 자격, N개 골프장) 하에 진행되는 비동기 이벤트임.game_session_id: "TOURNEY_001" (참가자 모두가 공유하는 '대회 코드').game_rule: "RULE_STROKE" (일반적으로 대회는 스트로크 플레이 기준).simulator_id: (String, Nullable) 유저가 플레이한 시뮬레이터의 고유 ID. 'MULTIPLAY'와 동일하게, 2명 이상이 1개 시뮬레이터에서 함께 참가한 경우 이 ID를 공유함.is_ranking_eligible: (핵심) 라운드 시작(또는 종료) 시, 서버가 참가 자격을 판단하여 true / false를 기록함.rank: is_ranking_eligible: true인 유저들 내에서만 산정됨. 자격이 없는 유저(false)는 null로 처리됨.cc_id: 유저가 플레이한 골프장 ID. (서버는 이 cc_id가 "TOURNEY_001"에서 허용된 N개 골프장 중 하나인지 검증해야 함).2.1.2. 멀티플레이 세션 정책 (서버 로직)데이터 구조의 배경이 되는 어플리케이션 서버의 비즈니스 로직은 다음과 같음.참가 제한: '멀티플레이'는 생성자(호스트)가 3홀 이상 플레이하면 신규 유저가 참가(join)할 수 없음.플레이 순서: 플레이 순서(turn)는 simulator_id가 동일한 로컬 그룹 내에서만 유효하며, 다른 시뮬레이터 그룹과 순서를 공유하지 않음.시간 비동기: 각 시뮬레이터 그룹은 독립적으로 플레이하므로 played_at (시작 시간) 및 종료 시간이 모두 다를 수 있음.2.1.3. 대회(Tournament) 모드 정책 (서버 로직)'대회'는 '멀티플레이'와 구분되는 별도의 game_mode이며, 데이터 구조의 배경이 되는 어플리케이션 서버의 비즈니스 로직은 다음과 같음.식별: 고유한 '대회 코드'를 game_session_id로 사용함.기간 및 장소: 대회는 지정된 기간(예: 11/1 ~ 11/7) 동안, N개의 지정된 골프장(cc_id 목록)에서 진행될 수 있음.참가 자격 및 랭킹:대회마다 고유한 참가 자격 규칙이 있음.라운드 데이터 생성 시 서버는 유저의 참가 자격을 판단하여 is_ranking_eligible 필드에 true 또는 false를 기록함.자격이 없는 유저(false)도 라운드 플레이는 가능하지만, rank 산정에서는 제외됨 (결과: rank: null).2.2. 홀 (Hole) 단위 데이터각 홀 상세 정보. (라운드당 18개 생성)(참고: RULE_FOURSOME, RULE_SCRAMBLE 등 팀 룰에서는 팀원 중 1명의 round_id에만 저장됨)hole_score_id: 홀 스코어 고유 IDround_id: 라운드 ID (FK)hole_number: 홀 번호 (1~18)hole_id: 홀 마스터 IDpar: 홀 기준 파 (3, 4, 5)distance: 홀 전장 (미터)strokes: 홀 스코어 (팀 스코어)putts: 홀 퍼팅 수 (팀 퍼팅 수)fairway_hit: 페어웨이 적중 여부 (Boolean)green_in_regulation: GIR 성공 여부 (Boolean)penalties: 페널티 횟수penalty_details: (Code Array, Nullable) 페널티 상세 (e.g.,$$'PEN_OB', 'PEN_WATER'$$)first_putt_distance: 첫 퍼팅 거리 (m)first_putt_made: 첫 퍼팅 성공 여부 (Boolean)2.2.1. ID 체계: hole_id와 hole_score_id의 역할데이터 모델에서 hole_id와 hole_score_id는 명확히 구분되는 다른 대상을 가리킴.hole_id (홀 마스터 ID):골프장의 '설계도' 또는 '템플릿'에 해당하는 정적 정보임.이 정보는 유저의 플레이와 관계없이 불변함.예: "Sky72 오션 코스 1번 홀, Par 4, 380m"라는 홀의 정의 그 자체임.hole_score_id (홀 스코어 고유 ID):유저가 '특정 라운드에서' 해당 홀을 플레이한 **'결과(사건)'**를 가리키는 고유한 기록임.이 ID는 반드시 **유니크(unique)**해야 하며, 특정 라운드(round_id)에서 플레이한 특정 홀의 단일 기록을 나타내는 유일한 식별자임.예: "A 유저가 2025년 11월 14일 라운드(round_id: 123)에서 1번 홀(hole_id: 101)을 5타(strokes: 5)로 마쳤다"는 하나의 사건임.2.2.2. 샷(Shot) 데이터의 ID 연결모든 샷(Shot) 단위 데이터는 hole_score_id에 연결되어야 함.필요성: 샷 데이터는 '홀의 설계도'(hole_id)가 아닌, '유저의 특정 플레이 기록'(hole_score_id)에 속하기 때문임.예시 시나리오:유저가 같은 1번 홀(hole_id: 101)을 오늘과 다음 주, 두 번 플레이할 수 있음.오늘 친 샷들 ➔ **오늘의 홀 기록(hole_score_id: A)**에 연결되어야 함.다음 주에 친 샷들 ➔ **다음 주의 홀 기록(hole_score_id: B)**에 연결되어야 함.만약 샷 데이터를 hole_id에 직접 연결하면, 유저가 1번 홀에서 친 모든 샷이 뒤섞여 버려 "1번 라운드의 5번 홀에서 친 샷 목록" 같은 통계를 구분할 수 없게 됨.2.3. 샷 (Shot) 단위 데이터라운드 중 발생한 모든 샷의 원시 데이터. 필수 수집 항목.(참고: RULE_FOURSOME, RULE_SCRAMBLE 등 팀 룰에서는 팀원 중 1명의 hole_score_id에만 저장됨)shot_id: 샷 고유 IDhole_score_id: 홀 스코어 ID (FK)user_id: (String) 이 샷을 '실제 플레이한' 유저 ID (팀전/개인전 모두 필수)shot_number: 홀 내 샷 순서 (팀 샷 순서)club_type: (Code) 사용 클럽 (e.g., 'CLUB_D', 'CLUB_I7', 'CLUB_P')shot_type: (Code) 샷 종류 (e.g., 'SHOT_T', 'SHOT_A', 'SHOT_P', 'SHOT_C')lie: (Code) 샷 지점 (e.g., 'LIE_TEE', 'LIE_FAIR', 'LIE_ROUGH', 'LIE_BUNK')is_putt: 퍼팅 여부 (Boolean)putt_length: 퍼팅 거리 (모든 퍼팅의 거리)putt_made: 퍼팅 성공 여부 (Boolean)is_mulligan: (Boolean) 멀리건 사용 여부 (이 샷이 멀리건인지)shot_at: (Timestamp) 샷 발생 시각TOTAL: 샷 결과 총 거리 (단위: M, Yds, Ft)CARRY: 샷 결과 캐리 거리 (단위: M, Yds, Ft)HEIGHT: 샷 결과 탄도 높이 (단위: M, Yds, Ft)LAND ANG.: 샷 결과 낙하 각도 (단위: Deg)SIDE: 샷 결과 좌우 편차 (단위: M, Yds, Ft)SIDE TOT: 샷 결과 최종 좌우 편차 (단위: M, Yds, Ft)HANG TIME: 샷 결과 체공 시간 (단위: sec)FROM PIN: 샷 결과 홀컵까지 남은 거리 (단위: M, Yds, Ft)2.3.1. club_type (클럽 종류) 확장성현재 club_type 수집이 불가능하더라도, 데이터베이스 스키마의 확장성을 고려하여 미리 필드를 정의하는 것을 권장함.구현: club_type 필드를 **NULL 허용(Nullable)**으로 스키마에 정의함.수집 (R&D 완료 전): 클라이언트(시뮬레이터)는 해당 필드값을 null 또는 코드 마스터에 정의된 'CLUB_UNKNOWN'으로 전송함.서버 처리:데이터베이스는 club_type 컬럼에 NULL을 허용하도록 설정함.average_distance_by_club(3.1) 같은 가공 로직 구현 시, WHERE club_type IS NOT NULL AND club_type != 'CLUB_UNKNOWN'과 같은 예외 처리를 포함하여 null 데이터로 인한 통계 오류를 방지함.기대 효과:미래 비용 방지: R&D 완료 후, 이미 수천만 건이 쌓인 운영 데이터베이스의 테이블 구조를 변경(ALTER TABLE)하는 고비용/고위험 작업을 피할 수 있음.즉시 확장: R&D 완료 시, 클라이언트는 데이터를 전송하기만 하면 되며, 서버는 이미 준비된 컬럼에 데이터를 저장하고 준비된 통계 로직을 즉시 활성화할 수 있음.2.3.2. lie (샷 지점) 및 shot_type (샷 종류) 판정 기준두 항목 모두 클라이언트(시뮬레이터)가 판단하여 서버에 전송하는 수집(Stack) 데이터임.lie (샷 지점):시뮬레이터가 샷이 이루어지는 지형의 물리적 속성을 100% 판단하여 전달함.예: 'LIE_TEE', 'LIE_FAIR', 'LIE_ROUGH', 'LIE_BUNK', 'LIE_GREEN'shot_type (샷 종류):'Approach'와 'Chip'같이 구분이 모호할 수 있는 항목은, 시뮬레이터가 내부 비즈니스 로직에 따라 판정한 결과값을 전달함.판정 기준 (예시): 샷 지점(lie)과 핀까지의 남은 거리를 조합하여 결정함.lie가 'LIE_TEE' ➔ shot_type = 'SHOT_T'lie가 'LIE_GREEN' (또는 is_putt=true) ➔ shot_type = 'SHOT_P'lie가 'LIE_BUNK' ➔ shot_type = 'SHOT_B'기타 지점 (LIE_FAIR, LIE_ROUGH 등)에서 핀까지의 남은 거리 기준:SHOT_A (Approach): 핀까지 남은 거리 > 30m (그린 공략을 위한 풀/하프 스윙)SHOT_C (Chip): 핀까지 남은 거리 <= 30m (그린 주변 숏게임)조치 사항: shot_type 구분을 위한 명확한 기준(예: 30m)을 내부적으로 확정하고, 시뮬레이터 로직에 반영하여 데이터 전송이 필요함.lie 및 shot_type 수집 주체lie (샷 지점): 시뮬레이터(클라이언트)가 샷이 이루어지는 지형의 속성('LIE_FAIR', 'LIE_ROUGH' 등)을 판단하여 서버에 전달함.shot_type (샷 종류): 시뮬레이터(클라이언트)가 내부 로직(예: 샷 지점 + 핀까지의 거리)에 따라 'SHOT_A'인지 'SHOT_C'인지 판정하여 그 결과값을 서버에 전달함.2.3.3. putt_length (퍼팅 시작 거리)의 필요성putt_length는 TOTAL이나 FROM PIN과는 목적이 완전히 다른 데이터이며, 퍼팅 통계를 위해 필수적임.정의: putt_length는 샷을 시작할 때 핀까지의 거리, 즉 해당 퍼팅의 '난이도'를 의미함.데이터 비교 (예시):$$상황$$그린에 공이 올라갔고, 핀까지 10m 남음.첫 번째 퍼팅 (샷 #1):샷 결과: 짧아서 1m가 남음 (즉, 9m 굴러감).putt_length (2.3): 10m (샷 시작 시 핀까지의 거리)putt_made (2.3): falseTOTAL (2.3 Result): 9m (샷이 실제 굴러간 거리)FROM PIN (2.3 Result): 1m (샷이 멈춘 후 핀까지 남은 거리)두 번째 퍼팅 (샷 #2):샷 시작 시 핀까지 1m 남은 상황.putt_length (2.3): 1m (샷 시작 시 핀까지의 거리)putt_made (2.3): trueTOTAL (2.3 Result): 1m (실제 굴러간 거리)FROM PIN (2.3 Result): 0m (홀인)핵심 활용: putt_success_rate_by_distance (퍼팅 거리별 성공률) 통계(3.1)를 생성하기 위해 필수적임. 이 데이터가 있어야 "10m 거리에서의 성공률"과 "1m 거리에서의 성공률"을 구분하여 계산할 수 있음.2.3.4. shot_number의 정의shot_number는 '단일 유저'(개인전) 또는 '팀'(팀전)이 해당 홀에서 플레이한 샷의 순서를 의미함.2.1. 라운드 (Round) 데이터는 **하나의 user_id**에 연결됨. (1:1 관계)RULE_STROKE (개인전): shot_number는 A 유저의 1번 샷, A 유저의 2번 샷... 을 의미함.RULE_FOURSOME (팀전): shot_number는 T1팀의 1번 샷, T1팀의 2번 샷... 을 의미함. (이때 2.3.샷.user_id에 실제 친 유저가 기록됨)결론: shot_number는 멀티플레이어 간의 턴(turn) 순서가 아닌, 한 명의 유저 또는 한 팀이 샷을 한 순차적인 번호임. 멀티플레이어 통계 지원은 game_session_id와 game_mode를 통해 구현됨. (2.1.1. 참고)2.4. 샷 상세 센서 데이터각 shot_id에 첨부되는 상세 센서 데이터. (필수)(센서가 측정한 원시 데이터)Ball(8)BALL SPEED: (단위: m/s, mi/h, km/h)LAUNCH ANG.: (단위: Deg)LAUNCH DIR.: (단위: Deg)SPIN RATE: (단위: RPM)SPIN AXIS: (단위: Deg)BACK SPIN: (단위: RPM)SIDE SPIN: (단위: RPM)SMASH FAC.: (단위: 없음)Club(7)ATTACK ANG.: (단위: Deg)CLUB PATH: (단위: Deg)DYN. LOFT: (단위: Deg)SPIN LOFT: (단위: Deg)FACE ANG.: (단위: Deg)FACE TO PATH: (단위: Deg)CLUB SPEED: (단위: m/s, mi/h, km/h)2.5. 턴 이벤트 (Turn Event) 데이터샷(Shot)이 아닌, 플레이 순서 변경 등 주요 게임 이벤트를 기록함.turn_event_id: 턴 이벤트 고유 IDgame_session_id: 게임 세션 ID (FK)hole_score_id: (Nullable) 이벤트가 발생한 홀 스코어 ID (FK)user_id_original: (Nullable) 원래 턴 유저 ID (e.g., 'C')user_id_actual: (Nullable) 실제 턴 수행 유저 ID (e.g., 'D')event_type: (Code) 이벤트 유형 (e.g., 'EVT_TURN_SKIP')event_at: (Timestamp) 이벤트 발생 시각2.5.1. 턴 이벤트 데이터 정의목적: 이 데이터는 샷(Shot) 통계와 분리하여, 게임의 실제 진행 흐름(Flow)을 기록하기 위함임.'턴넘기기' 기록: 유저가 '턴넘기기' 기능을 사용하여 C의 차례에 D가 플레이한 경우, event_type: 'EVT_TURN_SKIP'으로 이 사실을 명시적으로 기록함.실제 플레이 순서:2.3. 샷(Shot) 테이블의 shot_at (샷 시간)은 실제 샷이 발생한 물리적 순서를 보장함.2.5. 턴 이벤트 테이블은 샷 순서가 변경된 이유 (예: 턴넘기기)를 기록하여, 나중에 게임 흐름을 재구성(Replay)할 때 사용됨.3. 가공 및 생성 데이터 (Create / Derive)수집된 원시(Stack) 데이터를 기반으로, 통계 서비스 제공을 위해 서버에서 가공/생성해야 하는 데이터임.3.1. 유저 누적 통계 (User Statistics)유저별로 집계 및 관리되어야 하는 핵심 통계임. 라운드 종료 시 업데이트 필요.total_rounds: 누적 라운드 수average_score: 평균 스코어best_score: 베스트 스코어fairway_accuracy: 페어웨이 적중률 (%)gir_percentage: 그린 적중률 (GIR) (%)average_putts_per_round: 라운드당 평균 퍼팅average_putts_per_hole: 홀당 평균 퍼팅average_mulligans: 라운드당 평균 멀리건 사용total_score_distribution: 스코어 분포 누적 (총 버디, 파, 보기...)up_and_down_percentage: 업앤다운 성공률 (%) (개인전/포볼 룰 한정)sand_save_percentage: 샌드세이브 성공률 (%) (개인전/포볼 룰 한정)average_distance_by_club: 클럽별 평균 거리 및 센서 데이터 (샷 데이터 기반 - 2.3.샷.user_id 기준, 개인전/포볼 룰 한정)penalty_analysis: 주요 페널티 유형 분석 (홀 데이터 기반)putt_success_rate_by_distance: 퍼팅 거리별 성공률 (샷 데이터 기반 - 2.3.샷.user_id 기준, 개인전/포볼 룰 한정)3.2. 통계 분석용 데이터차트, 트렌드, 상세 리포트 제공을 위해 가공되는 데이터임.스코어 트렌드: 최근 N개 라운드의 스코어, FW, GIR, 퍼팅 추이파(Par)별 평균: Par 3, 4, 5 홀의 평균 스코어 및 (vs Par)클럽별 상세 분석: 클럽별 평균/최대 비거리, 평균 볼 스피드, 스핀량 등 (2.3.샷.user_id 기준, 개인전/포볼 룰 샷 데이터 기반)페널티 분석: 가장 많이 발생하는 페널티 유형(OB, Water) 및 횟수 (홀 데이터 기반)3.3. 팀전 샷의 개인 통계 포함 정책RULE_FOURSOME (공 1개)이나 RULE_SCRAMBLE (베스트 볼)에서 나온 샷은 개인 누적 통계(3.1) 계산에서 제외하는 것이 합리적임.정책: 3.1. 유저 누적 통계는 유저의 순수 개인 실력을 반영해야 함.RULE_STROKE / RULE_FOURBALL:유저가 game_rule과 관계없이 **'자신의 공'**으로 온전히 18홀을 플레이함.따라서 이 두 모드에서 발생한 샷(2.3.샷.user_id 기준)은 개인 누적 통계에 포함됨.RULE_FOURSOME / RULE_SCRAMBLE:유저는 팀의 공(포섬) 또는 팀의 베스트 볼 위치(스크램블)에서 샷을 함.이는 RULE_STROKE (개인전) 샷과 플레이 조건이 근본적으로 다르므로, 통계의 일관성을 해칠 수 있음.따라서 이 두 모드에서 발생한 샷은 2.3.샷.user_id에 기록되어 '라운드 상세 보기'에서는 볼 수 있지만, 3.1의 개인 누적 통계 계산에서는 제외되어야 함.4. 코드 마스터 정의 (Code Master)본 문서는 데이터 무결성과 표준화를 위해 문자열 대신 코드 값을 사용함. 다음은 주요 데이터 필드에 사용되는 코드 마스터임.4.1. Game Mode (game_mode)SINGLE: 싱글 플레이LOCAL: 로컬 멀티플레이 (1개 시뮬레이터, 2-6명)MULTIPLAY: 네트워크 멀티플레이 (N개 시뮬레이터, 2-100명)TOURNEY: 대회 모드 (비동기, 기간/장소 지정)4.2. Game Rule (game_rule)RULE_STROKE: 스트로크 플레이 (Stroke Play) - 개인전RULE_FOURBALL: 포볼 (Four-ball) - 2인 1조, 각자 플레이 후 좋은 스코어RULE_FOURSOME: 포섬 (Foursome) - 2인 1조, 공 하나를 번갈아 가며 플레이RULE_SCRAMBLE: 스크램블 (Scramble) - 2~4인 1조, 각자 티샷 후 베스트 볼 위치에서 다음 샷RULE_MODIFIED: 변형 스트로크 (Modified Stableford)4.3. Tee Box (tee_box)TB_BLACK: 블랙 티TB_BLUE: 블루 티TB_WHITE: 화이트 티TB_RED: 레드 티TB_GOLD: 골드 티 (시니어 티)4.4. Penalty Details (penalty_details)PEN_OB: OB (Out of Bounds)PEN_WATER: 워터 해저드PEN_UNPLAY: 언플레이어블4.5. Club Type (club_type)CLUB_D: 드라이버 (Driver)CLUB_W3: 3번 우드CLUB_W5: 5번 우드CLUB_U: 유틸리티CLUB_I3: 3번 아이언CLUB_I4: 4번 아이언CLUB_I5: 5번 아이언CLUB_I6: 6번 아이언CLUB_I7: 7번 아이언CLUB_I8: 8번 아이언CLUB_I9: 9번 아이언CLUB_PW: 피칭 웨지CLUB_AW: 어프로치 웨지CLUB_SW: 샌드 웨지CLUB_LW: 로브 웨지CLUB_P: 퍼터CLUB_UNKNOWN: 알 수 없음 (R&D 완료 전 등)4.6. Shot Type (shot_type)SHOT_T: 티 샷 (Tee Shot)SHOT_A: 어프로치 샷 (Approach)SHOT_C: 칩 샷 (Chip)SHOT_B: 벙커 샷 (Bunker)SHOT_P: 퍼팅 (Putt)4.7. Lie (lie)LIE_TEE: 티 박스LIE_FAIR: 페어웨이LIE_ROUGH: 러프LIE_BUNK: 벙커LIE_GREEN: 그린LIE_FRINGE: 프린지 (그린 엣지)LIE_WATER: 워터 해저드LIE_OB: OB 구역4.8. Turn Event Type (event_type)EVT_TURN_SKIP: 턴 넘기기 (다른 유저에게 턴을 넘김)EVT_TURN_PASS: 턴 패스 (이번 턴을 건너뜀)5. 개발 요건5.1. 데이터 수집 (Stack) 요건라운드 종료 시 2.1 ~ 2.5의 모든 데이터(턴 이벤트 포함)를 수신할 API 엔드포인트 구현.수신된 대용량 원시 데이터를 (라운드, 홀, 샷, 이벤트) 분리하여 데이터베이스에 저장하는 로직 구현.(중요) game_rule이 RULE_FOURSOME 또는 RULE_SCRAMBLE인 경우, 팀원 중 1명의 round_id를 기준으로 2.2 홀 및 2.3 샷 데이터를 저장하고, 나머지 팀원들의 2.1 라운드 데이터에는 total_score와 rank만 복제 저장하는 로직 구현.5.2. 데이터 가공 (Create) 요건라운드 데이터 저장 시, 해당 유저의 3.1(누적 통계) 데이터를 업데이트하는 로직 구현 (비동기 처리 권장).라운드 데이터 저장 시, 동일한 game_session_id를 가진 라운드들의 total_score를 비교하여 rank를 계산하고 업데이트하는 로직 구현. (주의: game_mode: 'TOURNEY'의 경우, is_ranking_eligible: true인 유저들만 랭킹 산정 대상에 포함해야 함. 또한 game_rule이 'SCRAMBLE' 등 팀전일 경우, 개인 total_score가 아닌 팀 스코어를 기준으로 rank를 산정해야 함)(추가) game_mode: 'MULTIPLAY'의 경우, 어플리케이션 서버는 '호스트 3홀 진행' 룰에 따른 참가 제한 로직을 구현해야 함.샷(Shot) 데이터를 분석하여 클럽별 평균, 샌드세이브, 퍼팅 성공률 등 3.1의 개인 누적 통계를 계산하는 로직 구현.(중요 정책): 이 통계 계산 시, 2.3.샷.user_id를 기준으로 샷을 집계하되, 해당 샷이 속한 라운드의 game_rule을 확인하여 **RULE_STROKE 또는 RULE_FOURBALL**인 샷만 통계에 포함해야 함. (RULE_FOURSOME, RULE_SCRAMBLE 샷은 제외)홀(Hole) 데이터를 분석하여 페널티 유형, 업앤다운 등을 계산하는 통계 로직 구현. (업앤다운, 샌드세이브 등도 상기 샷 정책과 동일하게 RULE_STROKE, RULE_FOURBALL 룰 기반으로 가공)5.3. 데이터 제공 (Serve) 요건유저 통계 대시보드에 3.1 데이터를 제공하는 API 구현.통계 분석용(3.2) 상세 데이터(트렌드, 클럽별, 퍼팅별)를 제공하는 API 구현.(추가) game_session_id를 기반으로 함께 플레이한 유저 목록, 순위, 스코어를 제공하는 API 구현 (멀티플레이/대회 결과).(추가) game_session_id를 기반으로 해당 게임의 2.3. 샷과 2.5. 이벤트를 시간순으로 정렬하여 게임 흐름(턴 순서 포함)을 재구성하는 API 구현.(추가) 코드 마스터(4. 코드 마스터 정의)를 클라이언트에 제공하는 API 구현.